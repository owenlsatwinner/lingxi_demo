# çµçŠ€é”€è½¬AI - Node.jséƒ¨ç½²ç‰ˆæœ¬

çµçŠ€é”€è½¬AIæ¼”ç¤ºåº”ç”¨ï¼ŒåŸºäºNode.jså’ŒExpressæ¡†æ¶å¼€å‘çš„èŠå¤©ç•Œé¢æ¼”ç¤ºã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 14.0.0
- npm >= 6.0.0

### å®‰è£…å’Œè¿è¡Œ

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
```bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x start.sh

# è¿è¡Œå¯åŠ¨è„šæœ¬
./start.sh
```

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…å’Œå¯åŠ¨
```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨åº”ç”¨
npm start

# æˆ–è€…ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
npm run dev
```

### è®¿é—®åº”ç”¨
å¯åŠ¨æˆåŠŸåï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
- æœ¬åœ°è®¿é—®: http://localhost:3333

## ğŸ“ é¡¹ç›®ç»“æ„

```
lingxi_demo/
â”œâ”€â”€ index.html          # ä¸»é¡µé¢
â”œâ”€â”€ styles.css          # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ script.js           # å‰ç«¯JavaScript
â”œâ”€â”€ server.js           # Node.jsæœåŠ¡å™¨
â”œâ”€â”€ package.json        # é¡¹ç›®é…ç½®
â”œâ”€â”€ start.sh            # å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md           # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ é…ç½®è¯´æ˜

### æœåŠ¡å™¨é…ç½®
- **ç«¯å£**: 3333 (å¯é€šè¿‡ç¯å¢ƒå˜é‡ PORT ä¿®æ”¹)
- **é™æ€æ–‡ä»¶**: è‡ªåŠ¨æœåŠ¡å½“å‰ç›®å½•ä¸‹çš„é™æ€æ–‡ä»¶
- **å‹ç¼©**: å¯ç”¨gzipå‹ç¼©
- **å®‰å…¨**: ä½¿ç”¨helmetä¸­é—´ä»¶å¢å¼ºå®‰å…¨æ€§
- **CORS**: å¯ç”¨è·¨åŸŸèµ„æºå…±äº«

### ç¯å¢ƒå˜é‡
```bash
# è®¾ç½®ç«¯å£ï¼ˆå¯é€‰ï¼Œé»˜è®¤3333ï¼‰
export PORT=3333

# è®¾ç½®ç¯å¢ƒæ¨¡å¼ï¼ˆå¯é€‰ï¼Œé»˜è®¤developmentï¼‰
export NODE_ENV=production
```

## ğŸ› ï¸ å¼€å‘

### å¼€å‘æ¨¡å¼
```bash
# å®‰è£…å¼€å‘ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
npm run dev
```

### ä¿®æ”¹ç«¯å£
å¦‚éœ€ä¿®æ”¹ç«¯å£ï¼Œå¯ä»¥ï¼š
1. ä¿®æ”¹ `server.js` ä¸­çš„ `PORT` å˜é‡
2. æˆ–è€…è®¾ç½®ç¯å¢ƒå˜é‡: `PORT=8080 npm start`

## ğŸ“ åŠŸèƒ½ç‰¹æ€§

- ğŸ¨ ç°ä»£åŒ–UIè®¾è®¡
- ğŸ’¬ å®æ—¶èŠå¤©ç•Œé¢
- ğŸ¤ è¯­éŸ³è¾“å…¥æ”¯æŒ
- ğŸ“± å“åº”å¼è®¾è®¡
- ğŸ”„ å¤šæ¨¡å¼åˆ‡æ¢ï¼ˆé”€è½¬A/é”€è½¬Bï¼‰
- ğŸ—‘ï¸ æ¸…ç©ºå¯¹è¯åŠŸèƒ½
- âš¡ å¿«é€Ÿå“åº”

## ğŸ” æ•…éšœæ’é™¤

### ç«¯å£å ç”¨é—®é¢˜
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :3333

# åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -ti:3333 | xargs kill -9
```

### ä¾èµ–å®‰è£…å¤±è´¥
```bash
# æ¸…é™¤npmç¼“å­˜
npm cache clean --force

# åˆ é™¤node_modulesé‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install
```

### æƒé™é—®é¢˜
```bash
# ç»™å¯åŠ¨è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x start.sh
```

## ğŸ“‹ APIé…ç½®

åº”ç”¨ä¸­çš„APIè°ƒç”¨é…ç½®åœ¨ `script.js` æ–‡ä»¶ä¸­ï¼š

```javascript
// ä¿®æ”¹APIåœ°å€
API_URL = 'http://localhost:8888/api/v1/chat/send';
```

## ğŸš€ ç”Ÿäº§éƒ¨ç½²

### ä½¿ç”¨PM2éƒ¨ç½²
```bash
# å®‰è£…PM2
npm install -g pm2

# å¯åŠ¨åº”ç”¨
pm2 start server.js --name "lingxi-demo"

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# é‡å¯åº”ç”¨
pm2 restart lingxi-demo
```

### ä½¿ç”¨Dockeréƒ¨ç½²
```dockerfile
FROM node:18-alpine

WORKDIR /app
COPY package*.json ./
RUN npm install --production

COPY . .
EXPOSE 3333

CMD ["npm", "start"]
```

## ğŸ“„ è®¸å¯è¯

ISC License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ã€‚